<div class="bookmarks-container" *ngIf="!isDataLoaded">
    <div class="loader-for-post" *ngIf="isNewPost">
        <div class="ui fluid placeholder">
            <div class="image header">
            <div class="line"></div>
            <div class="line"></div>
            </div>
            <div class="paragraph">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
            </div>
        </div>
    </div>
    <ng-container *ngIf="bookmarkData && commentData">
        <div 
            @fadeHeight
            class='ec-blog-post' 
            *ngFor="let bookmark of bookmarkData; index as i;"
            (click)="routeToBlogDetail($event, bookmark.id)">
            <div class='user-blog-post'>
                <img [src]="bookmark.userImage ? (bookmark.userImage | image: 'profile-image') : defaultImageUrl">
            </div>
            <div class='user-blog-wrapper'>
                <div class="user-intro-follow">
                    <div class='user-blog-info'>

                        <div class='user-blog-name'>{{ bookmark.userName }}</div>
                        <ng-container *ngIf="bookmark.userId !== user.id"> 
                            <div class='dot'></div>
                            <div class="follow" *ngIf="allUsers" (click)="changeFollowStatus($event, bookmark)">
                                {{ allUsers | follow: bookmark.userId : user.id }}
                            </div>
                        </ng-container>
                    </div>
                </div>

                <div class='user-blog-info-2'>
                    <div class="user-unique-id">{{ bookmark.uniqueId }}</div>
                    <div class='dot'></div>
                    <div class='user-blog-post-time' [innerHTML]="bookmark.lastUpdateDate | date"></div>
                </div>

                <div class='user-blog-content' *ngIf="bookmark?.content">
                    {{ bookmark.content }}
                </div>
                <div class="user-blog-post-image" *ngIf="bookmark?.image">
                    <img [src]="bookmark?.image | image: 'post-image'">
                </div>
                <div class='blog-activities'>
                    <app-blog-like 
                        [postData]="bookmark" 
                        [user]="user"
                        [likedUserIds]="bookmark.likedUserId"
                    ></app-blog-like>
                    <app-blog-comment [commentCount]="(commentData | comment: bookmark.id).length"></app-blog-comment>
                    <app-blog-activity-more
                        [index]="i" 
                        [elemId]="i" 
                        [postData]="bookmark"
                        [postUserId]="bookmark.userId"
                        [user]="user"
                        [videoUrl]="bookmark.video"
                        [imageUrl]="bookmark.image"
                        (click)="stopDefaultBehaviour($event)"
                        (snackbarBookmarkStatus)="handleSnackbarStatus($event)"
                        (removeFromArray)="handleBookmarkRemove($event)">
                    </app-blog-activity-more>
                </div>

                <app-blog-all-comments
                    [userId]="user?.id" 
                    [post]="item"
                    [postId]="item?.id"
                    pageName='home'
                    [allComment]="commentData | comment: bookmark.id"
                    (deleteStatus)="removeComment($event)"
                ></app-blog-all-comments>

                <app-blog-comment-input 
                    [index]="i" 
                    [postId]="bookmark.id"
                    [user]="user"
                    (click)="stopDefaultBehaviour($event)"
                    (showNewComment)="addNewComment($event)"
                ></app-blog-comment-input>
            </div>
        </div>
    </ng-container>

    <app-right-side-menu></app-right-side-menu>
</div>

<app-snackbarmodal 
    *ngIf="showSnackbarStatus"
    [text]="snackBarText"
    (snackbarClose)="handleSnackbarClose($event)"
></app-snackbarmodal>

<div *ngIf="isDataLoaded" class="data-loader">
    <div class="ui active centered inline loader"></div>
</div>
